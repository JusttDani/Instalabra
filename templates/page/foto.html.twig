{% extends 'base.html.twig' %}
{% block title %}Editar perfil{% endblock %}
{% block body %}

<div class="editar-header">
    <a href="{{ path('app_perfil') }}" class="editar-back">‹</a>
    <h1 class="editar-titulo">Editar perfil</h1>
</div>

<div class="editar-perfil">

    {{ form_start(form, {'attr': {'enctype': 'multipart/form-data', 'class': 'editar-form'}}) }}

        <div class="editar-foto-section">
            <div class="editar-foto-preview-wrapper">
                <img src="{{ app.user.fotoPerfil ? asset('uploads/perfiles/' ~ app.user.fotoPerfil) : asset('multimedia/Prueba/noicon.jpg') }}"
                     alt="Foto de perfil"
                     class="editar-foto-preview"
                     id="foto-preview">
                <label for="{{ form.fotoPerfil.vars.id }}" class="editar-foto-overlay">
                    <span class="editar-foto-icon"></span>
                    <span class="editar-foto-texto">Cambiar foto</span>
                </label>
            </div>
            <div>
                {{ form_widget(form.fotoPerfil) }}
            </div>
        </div>

        <div class="editar-campos">

            <div class="editar-campo">
                <label class="editar-label">Nombre</label>
                {{ form_widget(form.nombre, {'attr': {'class': 'editar-input', 'placeholder': 'Tu nombre'}}) }}
                {{ form_errors(form.nombre) }}
            </div>

            {% if form.bio is defined %}
            <div class="editar-campo editar-bio">
                <label class="editar-label">Biografía</label>
                {{ form_label(form.bio, 'Biografía', {'label_attr': {'class': 'editar-label editar-bio-label'}}) }}
                {{ form_widget(form.bio, {'attr': {'class': 'editar-input editar-textarea', 'placeholder': 'Cuéntanos algo sobre ti...', 'rows': 3}}) }}
                {{ form_errors(form.bio) }}
            </div>
            {% endif %}

            {% if form.email is defined %}
            <div class="editar-campo">
                <label class="editar-label">Email</label>
                {{ form_widget(form.email, {'attr': {'class': 'editar-input', 'placeholder': 'tu@email.com'}}) }}
                {{ form_errors(form.email) }}
            </div>
            {% endif %}

        </div>

        <div class="editar-actions">
            <a href="{{ path('app_perfil') }}" class="editar-cancelar">Cancelar</a>
            <button type="submit" class="editar-guardar">Guardar cambios</button>
        </div>

    {{ form_end(form) }}

</div>

{% endblock %}